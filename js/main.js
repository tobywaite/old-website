// Generated by CoffeeScript 1.3.3
(function() {
  var getTemplate, initialize, populateBlog, populateTWSRV, populateTwitter, populateYelp;

  jQuery(function() {
    initialize();
    populateBlog();
    populateTwitter();
    return populateYelp();
  });

  initialize = function() {
    return window.templateCache = {};
  };

  populateTWSRV = function(section) {
    return $.ajax({
      url: ['http://tw-srv.herokuapp.com/', section].join('')
    }).done(function(sectionData) {
      var renderedTemplate, sectionID;
      sectionID = ['#', section].join('');
      renderedTemplate = Milk.render(getTemplate(section), sectionData);
      return $(sectionID).html(renderedTemplate);
    });
  };

  populateBlog = function() {
    return populateTWSRV('blog');
  };

  populateTwitter = function() {
    return populateTWSRV('twitter');
  };

  populateYelp = function() {
    return populateTWSRV('yelp');
  };

  getTemplate = function(templateName) {
    if (window.templateCache[templateName] === void 0) {
      $.ajax({
        url: ['/templates', '/', templateName, '.mustache'].join(''),
        async: false
      }).done(function(tmplResponse) {
        return window.templateCache[templateName] = tmplResponse;
      });
    }
    return window.templateCache[templateName];
  };

}).call(this);
