// Generated by CoffeeScript 1.3.3
(function() {
  var initialize, populateBlog, populateTWSRV, populateTwitter;

  this.templates = {}

  this.templates.blog = "<!--\nData format:\n{\n  \"entries\": {\n    {\n      \"id\": \"blog1\",\n      \"date\": \"6/11/12\",\n      \"title\": \"My Blog Post\",\n      \"lead\": \"This is a lead paragraph with lots of text\",\n      \"content\": {\n        \"paragraph\": \"This is a content paragraph with lots of text\",\n        \"paragraph\": \"This is a content paragraph with lots of text\",\n        \"paragraph\": \"This is a content paragraph with lots of text\",\n      },\n    },\n    {\n      \"id\": \"blog1\",\n      \"date\": \"6/11/12\",\n      \"title\": \"My Blog Post\",\n      \"lead\": \"This is a lead paragraph with lots of text\",\n      \"content\": {\n        \"paragraph\": \"This is a content paragraph with lots of text\",\n        \"paragraph\": \"This is a content paragraph with lots of text\",\n        \"paragraph\": \"This is a content paragraph with lots of text\",\n      },\n    },\n  },\n}\n\n-->\n\n<div class=\"tabbable tabs-left\">\n  <ul class=\"nav nav-tabs hidden-phone\">\n    {{#entries}}\n      <li><a href=\"{{id}}\" data-toggle=\"tab\">{{date}}</a></li>\n    {{/entries}}\n  </ul>\n  <div class='tab-content'>\n    {{#entries}}\n      <div id=\"{{id}}\" class='tab-pane'>\n        <h2>Blog\n          <small>{{title}}</small>\n        </h2>\n        <div class='well'>\n          <p class='lead'>{{lead}}</p>\n          <div class='collapse' id='{{id}}-more'>\n            {{#content}}\n              <p>{{paragraph}}</p>\n            {{/content}}\n          </div>\n          <a data-toggle='collapse' data-target='#{{id}}-more'>Read More...</a>\n        </div>\n      </div>\n    {{/entries}}\n  </div>\n</div>\n\n<!--\n\njQuery must select the first entry in the nav-tabs list and add the active class.\nIt must also select the first tab-content div and apply the active class.\n\n-->";

  this.templates.flickr = "<!--\n{\n  \"pictures\": {\n    {\n      \"uri\": ,\n      \"alt\": ,\n      \"title\": ,\n      \"description\": ,\n    },\n  },\n}\n-->\n\n<div class=\"span9\">\n  <h2>\n    flickr\n    <small>Pictures &amp; Adventures!</small>\n  </h2>\n</div>\n<div class=\"span2\">\n<h2><small><a href='http://www.flickr.com/user/toby.waite'>toby.waite</a></small></h2>\n</div>\n<div id='flickrCarousel' class='carousel'>\n  <div class='carousel-inner'>\n    {{#pictures}}\n    <div class='item'>\n      <img src='{{uri}}' alt='{{alt}}'>\n      <div class='carousel-caption'>\n        <h4>{{title}}</h4>\n        <p>{{description}}</p>\n      </div>\n    </div>\n    {{/pictures}}\n  </div>\n  <a class='carousel-control left' href='#flickrCarousel' data-slide='prev'>&lsaquo;</a>\n  <a class='carousel-control right' href='#flickrCarousel' data-slide='next'>&rsaquo;</a>\n</div>";

  this.templates.github = "<!--\n\n{\n  \"repo-url\": ,\n  \"repo-name\": ,\n  \"repo-desc\": ,\n  \"commit-message\": ,\n  \"commit-date\": ,\n  \"commit-time\": ,\n}\n\n-->\n\n\n<h2>\n  github\n  <small><a href='http://www.github.com/users/tobywaite'>tobywaite</a></small>\n</h2>\n<div class=\"row\">\n  <div class='span1'>\n    <img class='logo' src='img/octocat.png' alt='octocat!'>\n  </div>\n  <div class='span4'>\n    <h3>\n      Repo:\n      <small><a href='{{repo-url}}'>{{repo-name}}</a></small>\n    </h3>\n    <p>{{repo-desc}}</p>\n    <blockquote>\n      {{commit-message}}\n      <small>latest commit, {{commit-date}}@{{commit-time}}</small>\n    </blockquote>\n  </div>\n</div>";

  this.templates.index = "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <title>Toby Waite</title>\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"css/main.css\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  </head>\n  <body>\n    <div class='fluid-container'>\n      <header class='row'>\n        <div id='bgpattern' class='row'><!--emptydiv--></div>\n        <div class='span4 offset1'>\n          <h1 class=\"visible-phone\">Toby Waite <small>A&nbsp;Website</small></h1>\n          <img id='blogshot' src='img/blogshot.jpg' alt=\"Hi! I'm Toby\"/>\n        </div>\n        <div class='span7'>\n          <h1 class=\"hidden-phone\">\n            <span class=\"visible-desktop\">Hello,&nbsp;I'm&nbsp;</span>\n            Toby&nbsp;Waite\n            <small class=\"visible-desktop\">and this is a website!</small>\n          </h1>\n          <h2 class=\"visible-desktop\">I've left a few footprints on this internet thing:</h2>\n          <div id='media-links'>\n            <ul>\n              <li><a href=\"http://www.twitter.com/tobywaite\"><img class='icon' src='img/icons/twitter.png' alt='@tobywaite'></a></li>\n              <li><a href=\"http://www.linkedin.com/tobywaite\"><img class='icon' src='img/icons/linkedin.png' alt='linkedin/tobywaite'></a></li>\n              <li><a href=\"http://www.last.fm/users/thebrokenfish\"><img class='icon' src='img/icons/lastfm.png' alt='lastfm/thebrokenfish'></a></li>\n              <li><a href=\"http://plus.google.com/somebullshit\"><img class='icon' src='img/icons/google.png' alt='google/toby.waite'></a></li>\n              <li><a href=\"http://www.flickr.com/users/toby.waite\"><img class='icon' src='img/icons/flickr.png' alt='flicker/toby.waite'></a></li>\n              <li><a href=\"http://www.facebook.com/twaite\"><img class='icon' src='img/icons/facebook.png' alt='facebook/twaite'></a></li>\n              <li><a href=\"http://www.github.com/tobywaite\"><img class='icon' src='img/icons/github.png' alt='github/tobywaite'></a></li>\n              <li><a href=\"http://twaite.yelp.com/\"><img class='icon' src='img/icons/yelp.png' alt='yelp/tobyw'></a></li>\n            </ul>\n          </div>\n        </div>\n      </header>\n      <section id='content' class=\"row offset1\">\n        <div class=\"span11\">\n          <div class=\"page-header\">\n            <h1>This is a collection of my wanderings.</h1>\n          </div>\n          <div class='alert alert-block alert-error'>\n            <button class='close' data-dismiss='alert'>x</button>\n            <strong>Heads Up!</strong> This page is <em>very much</em> a work in progress. All the content is currently static and most of the links don't work. I'm working on it, I'm working on it...\n          </div>\n          <div id=\"blog\" class=\"row\">\n            {{> blog}}\n          </div>\n          <div class=\"row\">\n            <div class='feedbox span5' id='github'>\n              {{> github}}\n            </div>\n            <div class='feedbox span5 ' id='twitter'>\n              {{> twitter}}\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class='feedbox span5' id='lastfm'>\n              {{> lastfm}}\n            </div>\n            <div class='feedbox span5' id='yelp'>\n              {{> yelp}}\n            </div>\n          </div>\n          <div id=\"flickr\" class=\"row\">\n            {{> flickr}}\n          </div>\n        </div>\n      </section>\n      <footer>\n        <h6>Looking to get in touch? <a href=\"mailto:#\">toby@tobywaite.net</a> is a pretty good bet.</h6>\n      </footer>\n    </div>\n\n    <!-- javascript here for page load speed -->\n    <script src=\"js/less.js\"></script>\n    <script src=\"js/jquery.js\"></script>\n    <script src=\"js/bootstrap-alert.js\"></script>\n    <script src=\"js/bootstrap-button.js\"></script>\n    <script src=\"js/bootstrap-collapse.js\"></script>\n    <script src=\"js/bootstrap-modal.js\"></script>\n    <script src=\"js/bootstrap-tab.js\"></script>\n    <script src=\"js/bootstrap-transition.js\"></script>\n    <script src=\"js/bootstrap-carousel.js\"></script>\n    <script src=\"js/main.js\"></script>\n  </body>\n</html>";

  this.templates.lastfm = "<!--\n\n{\n  \"now-playing\": true,\n  \"song\": \"Song Name\",\n  \"artist\": \"Artist Name\",\n  \"album\": \"Album Name\",\n  \"art-uri\": \"http://www.art.com/album/haters.jpg\"\n}\n\n-->\n\n<h2>\n  last.fm\n  <small><a href='http://www.last.fm/users/thebrokenfish'>thebrokenfish</a></small>\n</h2>\n<div class=\"row\">\n  <div class='span1'>\n    <img class='logo' src='img/lastfm_logo.png' alt=\"everyday we scrobblin'\">\n  </div>\n  <div class='span3'>\n    <h3>\n      Listening to...\n      {{#now-playing}}\n        <small>Now playing!</small>\n      {{/now-playing}}\n    </h3>\n    <dl class='dl-horizontal'>\n      <dt>Song</dt>\n      <dd>{{song}}</dd>\n      <dt>Artist</dt>\n      <dd>{{artist}}</dd>\n      <dt>Album</dt>\n      <dd>{{album}}</dd>\n    </dl>\n  </div>\n  <div class='span1'>\n    <img class='logo' src='{{art-uri}}' alt=\"album-art\">\n  </div>\n</div>";

  this.templates.twitter = "<!--\n\n{\n  \"text\": ,\n  \"date\": ,\n  \"time\": ,\n  \"latest\": true,\n}\n\n-->\n\n<h2>\n  twitter\n  <small><a href='http://www.twitter.com/tobywaite'>@tobywaite</a></small>\n</h2>\n<div class=\"row\">\n  <div class='span1'>\n    <img class='logo' src='img/bird.png' alt='tweet tweet!'>\n  </div>\n  <div class='span4'>\n    <blockquote>\n      {{body}}\n      <small>blabbing to the universe, {{date}}@{{time}}</small>\n    </blockquote>\n    <ul class='pager'>\n      <li class='previous'>\n        <a href='#'>Older</a>\n      </li>\n      <li class='next {{#latest}}disabled{{/latest}}'>\n        <a href='#'>Newer</a>\n      </li>\n    </ul>\n  </div>\n</div>\n\n<!--\n\nRegister callbacks on the previous and next buttons to get more tweet data and re-render the template.\n\n-->";

  this.templates.yelp = "<!--\n{\n  \"biz-name\":\n  \"biz-uri\":\n  \"location\":\n  \"date\":\n  \"time\":\n  \"tip\":\n}\n-->\n\n<h2>\n  yelp\n  <small><a href='http://twaite.yelp.com/'>twaite</a></small>\n</h2>\n<div class=\"row\">\n  <div class='span1'>\n    <img class='logo' src='img/yelp.png' alt=\"yelpers gonna yelp\">\n  </div>\n  <div class='span4'>\n    <h3>\n      {{biz-name}}\n      <small><a href='{{biz-uri}}'>Latest Check-in</a></small>\n    </h3>\n    <p>{{location}}<small>{{date}}@{{time}}</small></p>\n    {{#tip}}\n    <blockquote>\n      {{tip}}\n    </blockquote>\n    {{/tip}}\n  </div>\n</div>";

  jQuery(function() {
    initialize();
    populateBlog();
    populateGithub();
    populateTwitter();
    populateLastfm();
    populateYelp();
    return populateFlickr();
  });

  initialize = function() {
    return this.templates = {};
  };

  populateTWSRV = function(section) {
    return $.ajax({
      url: 'http://tw-srv.herokuapp.com/#{ section }'
    }).done(function(response) {
      return $('##{ section }').html(Milk.render(this.templates[section], response));
    });
  };

  populateBlog = function() {
    return populateTWSRV('blog');
  };

  populateTwitter = function() {
    return populateTWSRV('twitter');
  };

  populateBlog = function() {
    return populateTWSRV('yelp');
  };

}).call(this);
